<div id="dashboard-app" class="max-w-5xl mx-auto py-6">
    <div id="loading-view" class="bg-white rounded-3xl shadow-lg border border-slate-100 overflow-hidden relative min-h-[400px] flex flex-col items-center justify-center">
        <i class="fas fa-circle-notch loading-spinner text-4xl text-brand-gold mb-4"></i>
        <p class="text-slate-400 font-bold">正在連線至資料庫...</p>
    </div>
</div>

<script>
    // 1. 定義「匿名展示版」的 HTML 內容 (就是我們剛做的那個表格)
    const demoHTML = `
    <header class="text-center mb-10">
        <h2 class="text-3xl font-black text-slate-800 mb-3">
            <i class="fa-solid fa-clock text-brand-red mr-3"></i>夥伴職能儀表板
        </h2>
        <p class="text-slate-500 font-bold">晉升進度公開透明 (招募展示模式)</p>
    </header>

    <div class="bg-white rounded-3xl shadow-lg border border-slate-100 overflow-hidden relative">
        <div class="overflow-x-auto">
            <table class="w-full text-left border-collapse">
                <thead>
                    <tr class="bg-slate-50 border-b border-slate-100 text-slate-500 text-sm uppercase tracking-wider">
                        <th class="p-4 font-bold text-center">職級 (Level)</th>
                        <th class="p-4 font-bold">夥伴姓名</th>
                        <th class="p-4 font-bold text-center">累積時數</th>
                        <th class="p-4 font-bold text-center">下階段目標</th>
                        <th class="p-4 font-bold text-center">目前狀態</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-slate-100 text-slate-700 font-bold">
                    <tr class="hover:bg-red-50 transition-colors bg-red-50/30">
                        <td class="p-4 text-center"><span class="bg-brand-red text-white px-3 py-1 rounded-full text-xs shadow-sm">Level 3</span></td>
                        <td class="p-4 flex items-center gap-2"><div class="w-8 h-8 rounded-full bg-brand-red text-white flex items-center justify-center text-xs">王</div><span>王Ｏ明 (店長範例)</span></td>
                        <td class="p-4 text-center font-mono text-brand-red">1,280 H</td>
                        <td class="p-4 text-center text-xs text-slate-400">已達最高職級</td>
                        <td class="p-4 text-center"><span class="text-brand-red text-xs border border-brand-red px-2 py-1 rounded">Core Partner</span></td>
                    </tr>
                    <tr class="hover:bg-slate-50 transition-colors">
                        <td class="p-4 text-center"><span class="bg-brand-gold text-white px-3 py-1 rounded-full text-xs shadow-sm">Level 2</span></td>
                        <td class="p-4 flex items-center gap-2"><div class="w-8 h-8 rounded-full bg-brand-gold text-white flex items-center justify-center text-xs">陳</div><span>陳Ｏ豪 (資深範例)</span></td>
                        <td class="p-4 text-center font-mono text-slate-600">425 H</td>
                        <td class="p-4 text-center text-xs text-slate-400">目標 450 H<div class="w-24 h-1.5 bg-slate-100 rounded-full mx-auto mt-1 overflow-hidden"><div class="h-full bg-brand-gold" style="width: 94%"></div></div></td>
                        <td class="p-4 text-center text-green-600 text-sm"><i class="fa-solid fa-arrow-trend-up mr-1"></i>即將晉升</td>
                    </tr>
                     <tr class="hover:bg-slate-50 transition-colors">
                        <td class="p-4 text-center"><span class="bg-slate-400 text-white px-3 py-1 rounded-full text-xs shadow-sm">Level 1</span></td>
                        <td class="p-4 flex items-center gap-2"><div class="w-8 h-8 rounded-full bg-slate-200 text-slate-500 flex items-center justify-center text-xs">林</div><span>林Ｏ婷 (新人範例)</span></td>
                        <td class="p-4 text-center font-mono text-slate-600">86 H</td>
                        <td class="p-4 text-center text-xs text-slate-400">目標 150 H<div class="w-24 h-1.5 bg-slate-100 rounded-full mx-auto mt-1 overflow-hidden"><div class="h-full bg-slate-400" style="width: 57%"></div></div></td>
                        <td class="p-4 text-center text-slate-400 text-sm">培訓中</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="mt-6 text-center">
        <p class="text-xs text-slate-400"><i class="fa-solid fa-shield-halved mr-1"></i>隱私保護：本頁面為招募展示模式，數據為虛構範例。</p>
    </div>
    `;

    // 2. 判斷網址有沒有 ?demo=1
    const urlParams = new URLSearchParams(window.location.search);
    const isDemoMode = urlParams.get('demo') === '1';

    if (isDemoMode) {
        // === 模式 A：招募展示模式 ===
        // 直接把內容換成靜態表格，不執行任何連線
        document.getElementById('dashboard-app').innerHTML = demoHTML;
        console.log('目前為 Demo 模式，不連線資料庫');

    } else {
        // === 模式 B：真實資料模式 ===
        console.log('目前為正式模式，準備連線資料庫');
        
        // 【重要！】請將您「原本」連線 Google Sheet 的程式碼區塊 (fetch data) 放在這裡
        // 必須放在這個 else { } 裡面，這樣 demo 模式才不會誤觸連線
        
        loadRealData(); // 假設您的主程式叫做這個，或是直接把 fetch 寫在這裡
    }

    // 您原本的連線函式 (範例結構，請用您原本的備份覆蓋這裡)
    function loadRealData() {
        // 把原本的 HTML 結構 (有 id="data-container" 的那個) 塞回去
        document.getElementById('dashboard-app').innerHTML = `
            <header class="text-center mb-10">
                <h2 class="text-3xl font-black text-slate-800 mb-3"><i class="fa-solid fa-clock text-brand-red mr-3"></i>夥伴時數儀表板</h2>
                <p class="text-slate-500 font-bold">即時同步 Google 試算表數據</p>
            </header>
            <div id="data-container" class="bg-white rounded-3xl shadow-lg border border-slate-100 min-h-[400px]">
                 <div class="p-10 text-center text-slate-400">讀取真實資料中...</div>
            </div>
        `;
        
        // 這裡接著寫 fetch('Google Script URL')... 的程式碼
        // ...
    }
</script>
